{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://plugin-factory.dev/schemas/skill-frontmatter.schema.json",
  "title": "Skill Frontmatter Schema",
  "description": "Schema for SKILL.md YAML frontmatter",
  "type": "object",
  "required": ["name", "description"],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$",
      "maxLength": 64,
      "description": "Skill name in kebab-case"
    },
    "description": {
      "type": "string",
      "maxLength": 1024,
      "description": "Skill description with trigger keywords. Should include 'Use when:' and 'Supports:' patterns."
    },
    "allowed-tools": {
      "type": "string",
      "description": "Comma-separated list of allowed tools (e.g., 'Read, Write, Edit, Bash')"
    },
    "model": {
      "type": "string",
      "enum": [
        "claude-sonnet-4-20250514",
        "claude-haiku-4-20250514",
        "claude-opus-4-20250514"
      ],
      "description": "Model to use for skill execution"
    },
    "context": {
      "type": "string",
      "enum": ["fork", "inherit"],
      "default": "fork",
      "description": "Context mode: fork (isolated) or inherit (shared)"
    },
    "agent": {
      "type": "string",
      "enum": ["general-purpose", "Explore", "Plan"],
      "default": "general-purpose",
      "description": "Agent type to use"
    },
    "max-tokens": {
      "type": "integer",
      "minimum": 1,
      "maximum": 100000,
      "description": "Maximum tokens for response"
    },
    "temperature": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Sampling temperature"
    }
  },
  "additionalProperties": true
}
